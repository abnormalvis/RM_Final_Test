<launch>
  <!-- Launch args for rosbag recording -->
  <arg name="bag_topic" default="/odom"/>
  <arg name="bag_dir" default="/home/idris/final_ws/src/sentry_chassis_controller/bags"/>

  <!-- Start full simulation + controllers -->
  <include file="$(find sentry_chassis_controller)/launch/sentry_pid_test_fixed.launch"/>

  <!-- Start forward kinematics node to compute odometry from joint_states -->
  <node pkg="sentry_chassis_controller" type="forward_kinematics" name="forward_kinematics" output="screen">
    <param name="wheel_base" value="0.36"/>
    <param name="wheel_track" value="0.36"/>
    <param name="wheel_radius" value="0.05"/>
  </node>

  <!-- C++ keyboard teleop (alternate) -->
  <node pkg="sentry_chassis_controller" type="sentry_control_key" name="sentry_control_key" output="screen">
    <param name="cmd_vel_topic" value="/cmd_vel"/>
    <param name="velocity_linear" value="1"/>
    <param name="velocity_angular" value="1"/>
  </node>

</launch>
